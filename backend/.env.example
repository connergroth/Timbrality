# Timbre Data Ingestion Environment Variables
# Copy this file to .env and fill in your actual values

# === REQUIRED API CREDENTIALS ===

# Last.fm API (get from https://www.last.fm/api)
LASTFM_API_KEY=your_lastfm_api_key_here
LASTFM_USERNAME=your_lastfm_username_here

# Spotify API (get from https://developer.spotify.com/)
SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here

# Supabase Database (get from https://supabase.com/)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# === OPTIONAL CONFIGURATION ===

# Redis Cache (default: redis://localhost:6379/0)
REDIS_URL=redis://localhost:6379/0

# Pipeline Settings
MAX_SONGS=10000
SCRAPE_CONCURRENCY=4
SCRAPE_DELAY_SEC=2.0
BATCH_SIZE=50
DB_BATCH_SIZE=2000

# Rate Limiting (requests per minute)
SPOTIFY_RATE_LIMIT=100
LASTFM_RATE_LIMIT=200
AOTY_RATE_LIMIT=30

# Logging
LOG_LEVEL=INFO
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Data Quality
MAX_GENRES_PER_TRACK=10
MAX_MOODS_PER_TRACK=15
MIN_AOTY_RATING_COUNT=5

# File Paths (relative to backend directory)
DATA_DIR=./data
LOGS_DIR=./logs
EXPORTS_DIR=./exports

# === OPTIONAL ADVANCED SETTINGS ===

# AOTY Proxy (for avoiding rate limits)
# AOTY_PROXY_URL=http://your-proxy:port

# Database Settings
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=1.0

# Request Settings
REQUEST_TIMEOUT=30
MAX_CONCURRENT_REQUESTS=10